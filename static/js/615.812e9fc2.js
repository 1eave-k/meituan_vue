"use strict";(self["webpackChunkvue3_waimai"]=self["webpackChunkvue3_waimai"]||[]).push([[615],{3774:function(t,e,a){a.r(e),a.d(e,{default:function(){return bt}});var n=a(9812),i=a(5893);const o=t=>((0,n.dD)("data-v-15c5120e"),t=t(),(0,n.Cn)(),t),c={class:"storeDetails"},s={class:"content"},d=o((()=>(0,n._)("div",{class:"img"},null,-1))),l={class:"foodSort"},r={class:"name"},u=["src"];function m(t,e,a,o,m,p){const v=(0,n.up)("Header"),f=(0,n.up)("StoreTabs"),g=(0,n.up)("FooterStore");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(v,{title:"店铺"}),(0,n._)("div",s,[d,(0,n._)("div",l,[(0,n._)("div",r,[(0,n.Uk)((0,i.zw)(t.title)+" ",1),(0,n._)("img",{src:t.img,alt:"",class:"store-img"},null,8,u)]),(0,n.Wm)(f,{storeData:t.storeData},null,8,["storeData"])])]),(0,n.Wm)(g,{storeData:t.storeData},null,8,["storeData"])])}var p=a(521),v=a(605),f=a(6770),g=(a(6450),a(3363));a(6536);function b(t,e,a,i,o,c){const s=(0,n.up)("FoodList"),d=g.OK,l=f.mQ;return(0,n.wg)(),(0,n.j4)(l,{active:t.active,"onUpdate:active":e[0]||(e[0]=e=>t.active=e)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.storeData,((t,e)=>((0,n.wg)(),(0,n.j4)(d,{key:e,title:t.name},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{index:e,foodData:t.data},null,8,["index","foodData"])])),_:2},1032,["title"])))),128))])),_:1},8,["active"])}var h=a(2473),x=(a(7658),a(1882)),I=a(2469),w=a(1417),C=a(4874),k=a(8586);const[y,F]=(0,x["do"])("sidebar"),A=Symbol(y),D={modelValue:(0,I.SI)(0)};var W=(0,n.aZ)({name:y,props:D,emits:["change","update:modelValue"],setup(t,{emit:e,slots:a}){const{linkChildren:i}=(0,k.$E)(A),o=()=>+t.modelValue,c=t=>{t!==o()&&(e("update:modelValue",t),e("change",t))};return i({getActive:o,setActive:c}),()=>{var t;return(0,n.Wm)("div",{role:"tablist",class:F()},[null==(t=a.default)?void 0:t.call(a)])}}});const S=(0,h.n)(W);var B=a(4391),Z=a(3206),_=a(1278);const[j,P]=(0,x["do"])("sidebar-item"),E=(0,B.l7)({},Z.g2,{dot:Boolean,title:String,badge:I.Or,disabled:Boolean,badgeProps:Object});var N=(0,n.aZ)({name:j,props:E,emits:["click"],setup(t,{emit:e,slots:a}){const i=(0,Z.yj)(),{parent:o,index:c}=(0,k.NB)(A);if(!o)return void 0;const s=()=>{t.disabled||(e("click",c.value),o.setActive(c.value),i())};return()=>{const{dot:e,badge:i,title:d,disabled:l}=t,r=c.value===o.getActive();return(0,n.Wm)("div",{role:"tab",class:P({select:r,disabled:l}),tabindex:l?void 0:0,"aria-selected":r,onClick:s},[(0,n.Wm)(_.Ct,(0,n.dG)({dot:e,class:P("text"),content:i},t.badgeProps),{default:()=>[a.title?a.title():d]})])}}});const O=(0,h.n)(N);const[J,L]=(0,x["do"])("tree-select"),z={max:(0,I.SI)(1/0),items:(0,I.Ce)(),height:(0,I.SI)(300),selectedIcon:(0,I.SQ)("success"),mainActiveIndex:(0,I.SI)(0),activeId:{type:[Number,String,Array],default:0}};var V=(0,n.aZ)({name:J,props:z,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(t,{emit:e,slots:a}){const i=e=>Array.isArray(t.activeId)?t.activeId.includes(e):t.activeId===e,o=a=>{const o=()=>{if(a.disabled)return;let n;if(Array.isArray(t.activeId)){n=t.activeId.slice();const e=n.indexOf(a.id);-1!==e?n.splice(e,1):n.length<+t.max&&n.push(a.id)}else n=a.id;e("update:activeId",n),e("clickItem",a)};return(0,n.Wm)("div",{key:a.id,class:["van-ellipsis",L("item",{active:i(a.id),disabled:a.disabled})],onClick:o},[a.text,i(a.id)&&(0,n.Wm)(C.JO,{name:t.selectedIcon,class:L("selected")},null)])},c=t=>{e("update:mainActiveIndex",t)},s=t=>e("clickNav",t),d=()=>{const e=t.items.map((t=>(0,n.Wm)(O,{dot:t.dot,badge:t.badge,class:[L("nav-item"),t.className],disabled:t.disabled,onClick:s},{title:()=>a["nav-text"]?a["nav-text"](t):t.text})));return(0,n.Wm)(S,{class:L("nav"),modelValue:t.mainActiveIndex,onChange:c},{default:()=>[e]})},l=()=>{if(a.content)return a.content();const e=t.items[+t.mainActiveIndex]||{};return e.children?e.children.map(o):void 0};return()=>(0,n.Wm)("div",{class:L(),style:{height:(0,w.Nn)(t.height)}},[d(),(0,n.Wm)("div",{class:L("content")},[l()])])}});const G=(0,h.n)(V);a(1958),a(368),a(6742);var H=a(4525);const K={key:0,class:"food-list"},U={key:1};function q(t,e,a,o,c,s){const d=H.Z,l=G;return 0===a.index?((0,n.wg)(),(0,n.iD)("div",K,[(0,n.Wm)(l,{"main-active-index":t.activeIndex,"onUpdate:mainActiveIndex":e[0]||(e[0]=e=>t.activeIndex=e),height:"88vw",items:t.items,onClickNav:o.navClick},{content:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.subItem,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"item-bg",key:e},[(0,n.Wm)(d,{itemData:t,handleAdd:o.handleAdd,handleChange:o.handleChange},null,8,["itemData","handleAdd","handleChange"])])))),128))])),_:1},8,["main-active-index","items","onClickNav"])])):((0,n.wg)(),(0,n.iD)("div",U,(0,i.zw)(a.foodData.content),1))}var $={components:{FoodListItem:H.Z},props:["index","foodData"],setup(t){let e=(0,p.qj)({activeIndex:0,items:[{text:"分组 1"},{text:"分组 2"}],subItem:[]});const a=()=>{let a=[];t.foodData?.items?.forEach(((t,n)=>{a.push({text:t.text}),e.activeIndex===n&&(e.subItem=t.children)})),e.items=a};a();const n=t=>{e.activeIndex=t,a()},i=t=>{e.subItem.forEach(((e,a)=>{t===e.id&&(e.add=!1,e.num+=1)})),console.log(e.subItem)},o=(t,a)=>{e.subItem.forEach(((e,n)=>{e.id===a.name&&(e.num=t)})),console.log(e.subItem)};return{...(0,p.BK)(e),navClick:n,handleAdd:i,handleChange:o}}},Q=a(8998);const T=(0,Q.Z)($,[["render",q],["__scopeId","data-v-fbf64750"]]);var Y=T,M={props:["storeData"],components:{FoodList:Y}};const R=(0,Q.Z)(M,[["render",b]]);var X=R,tt=a(1410),et=(a(2042),a(7861)),at=(a(2939),a(1452),a(2191),a(8027));const[nt,it]=(0,x["do"])("action-bar-icon"),ot=(0,B.l7)({},Z.g2,{dot:Boolean,text:String,icon:String,color:String,badge:I.Or,iconClass:I.Vg,badgeProps:Object,iconPrefix:String});var ct=(0,n.aZ)({name:nt,props:ot,setup(t,{slots:e}){const a=(0,Z.yj)();(0,k.NB)(at.FO);const i=()=>{const{dot:a,badge:i,icon:o,color:c,iconClass:s,badgeProps:d,iconPrefix:l}=t;return e.icon?(0,n.Wm)(_.Ct,(0,n.dG)({dot:a,class:it("icon"),content:i},d),{default:e.icon}):(0,n.Wm)(C.JO,{tag:"div",dot:a,name:o,badge:i,color:c,class:[it("icon"),s],badgeProps:d,classPrefix:l},null)};return()=>(0,n.Wm)("div",{role:"button",class:it(),tabindex:0,onClick:a},[i(),e.default?e.default():t.text])}});const st=(0,h.n)(ct);function dt(t,e,a,i,o,c){const s=st,d=et.ZL,l=tt.ol;return(0,n.wg)(),(0,n.j4)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"chat-o",text:"客服",dot:""}),(0,n.Wm)(s,{icon:"cart-o",text:"购物车",badge:i.store.state.cartList.length,onClick:i.goCart},null,8,["badge","onClick"]),(0,n.Wm)(d,{type:"warning",text:"加入购物车",onClick:i.handleAddCart},null,8,["onClick"]),(0,n.Wm)(d,{type:"danger",text:"立即购买",onClick:i.goBuy},null,8,["onClick"])])),_:1})}var lt=a(2357),rt=a(644),ut=a(9226),mt={props:["storeData"],setup(t){let e=(0,lt.oR)(),a=(0,rt.tv)();const n=a=>{const n=e.state.cartList||[];t.storeData.forEach((t=>{t.data.items?.forEach((t=>{t.children.forEach((t=>{t.num>0&&n.push(t)}))}))})),0!==n.length?(e.commit("addCart",n),"buy"===a&&i()):(0,ut.CF)("请选购商品！")},i=()=>{a.push("/cart")},o=()=>{n("buy")};return{handleAddCart:n,store:e,goCart:i,goBuy:o}}};const pt=(0,Q.Z)(mt,[["render",dt]]);var vt=pt,ft={components:{Header:v.Z,StoreTabs:X,FooterStore:vt},setup(){let t=(0,p.qj)({title:"鱼拿酸菜鱼",img:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",storeData:[{name:"点菜",data:{content:"点菜",items:[{text:"热销套餐",children:[{pic:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.cfcy168.com%2FUploadFiles%2F2020%2F2%2F15904074889874037.jpg&refer=http%3A%2F%2Fwww.cfcy168.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1645421933&t=66b58fbba9dce6f6b397e38820de24dc",title:"隆江猪脚饭",num:0,price:25,id:0,add:!0},{pic:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.cfcy168.com%2FUploadFiles%2F2020%2F2%2F15904074889874037.jpg&refer=http%3A%2F%2Fwww.cfcy168.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1645421933&t=66b58fbba9dce6f6b397e38820de24dc",title:"隆江猪脚饭",num:0,price:25,id:1,add:!0}]},{text:"超级折扣",children:[{pic:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",title:"无骨酸菜鱼+肥牛双拼",num:0,price:25,id:5,add:!0},{pic:"https://img1.baidu.com/it/u=1599947592,1695977044&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=440",title:"香辣水煮鱼+肥牛双拼",num:0,price:25,id:6,add:!0}]}]}},{name:"评价",data:{content:"评价"}},{name:"商家",data:{content:"商家"}}]});return{...(0,p.BK)(t)}}};const gt=(0,Q.Z)(ft,[["render",m],["__scopeId","data-v-15c5120e"]]);var bt=gt},7861:function(t,e,a){a.d(e,{ZL:function(){return g}});var n=a(2473),i=a(9812),o=a(1882),c=a(4391),s=a(8027),d=a(8586),l=a(4779),r=a(3206),u=a(356);const[m,p]=(0,o["do"])("action-bar-button"),v=(0,c.l7)({},r.g2,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var f=(0,i.aZ)({name:m,props:v,setup(t,{slots:e}){const a=(0,r.yj)(),{parent:n,index:o}=(0,d.NB)(s.FO),c=(0,i.Fl)((()=>{if(n){const t=n.children[o.value-1];return!(t&&"isButton"in t)}})),m=(0,i.Fl)((()=>{if(n){const t=n.children[o.value+1];return!(t&&"isButton"in t)}}));return(0,l.F)({isButton:!0}),()=>{const{type:n,icon:o,text:s,color:d,loading:l,disabled:r}=t;return(0,i.Wm)(u.zx,{class:p([n,{last:m.value,first:c.value}]),size:"large",type:n,icon:o,color:d,loading:l,disabled:r,onClick:a},{default:()=>[e.default?e.default():s]})}}});const g=(0,n.n)(f)},8027:function(t,e,a){a.d(e,{FO:function(){return u},ZP:function(){return p}});var n=a(9812),i=a(521),o=a(1882),c=a(2469),s=a(8586),d=a(7034);const[l,r]=(0,o["do"])("action-bar"),u=Symbol(l),m={placeholder:Boolean,safeAreaInsetBottom:c.J5};var p=(0,n.aZ)({name:l,props:m,setup(t,{slots:e}){const a=(0,i.iH)(),o=(0,d.J)(a,r),{linkChildren:c}=(0,s.$E)(u);c();const l=()=>{var i;return(0,n.Wm)("div",{ref:a,class:[r(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(i=e.default)?void 0:i.call(e)])};return()=>t.placeholder?o(l):l()}})},1410:function(t,e,a){a.d(e,{ol:function(){return o}});var n=a(2473),i=a(8027);const o=(0,n.n)(i.ZP)},6292:function(t,e,a){a.d(e,{M:function(){return o}});var n=a(9812);let i=0;function o(){const t=(0,n.FN)(),{name:e="unknown"}=(null==t?void 0:t.type)||{};return`${e}-${++i}`}},6536:function(t,e,a){a(1958),a(368),a(1771),a(9137),a(1088),a(5338),a(1564)},6450:function(t,e,a){a(1958),a(1771),a(9137),a(5338)}}]);
//# sourceMappingURL=615.812e9fc2.js.map